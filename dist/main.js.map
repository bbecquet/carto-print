{"version":3,"sources":["../src/main.js"],"names":[],"mappings":";;;;;;AAAA;;;;;;AAEA,SAAS,IAAT,GAAiB;;AAEb,gBAAG,MAAH,CAAU,KAAV,EAAiB,MAAjB;AACA,QAAM,QAAQ,GAAd;;AACI,aAAS,GADb,C;;;AAIA,QAAM,MAAM,YAAG,MAAH,CAAU,MAAV,EAAkB,MAAlB,CAAyB,KAAzB,EACP,IADO,CACF,OADE,EACO,KADP,EAEP,IAFO,CAEF,QAFE,EAEQ,MAFR,CAAZ;;;AAKA,QAAM,UAAU,IAAI,MAAJ,CAAW,GAAX,EACX,IADW,CACN,WADM,EACO,YADP,CAAhB;;AAGA,QAAM,aAAa,YAAG,GAAH,CAAO,cAAP;;;AAAA,KAGd,SAHc,CAGJ,EAHI,CAAnB;;AAKA,eAAW,MAAX,CAAkB,CAAC,CAAC,CAAF,EAAK,CAAC,EAAN,EAAU,CAAC,CAAX,CAAlB;;;;;;;;;;AAUA,QAAM,QAAQ,YAAG,GAAH,CAAO,IAAP,GAAc,WAAd,CAA0B,CAA1B,EAA6B,UAA7B,CAAwC,UAAxC,CAAd;;;AAGA,YAAQ,MAAR,CAAe,MAAf,EACK,IADL,CACU,MADV,EACkB,MADlB,EAEK,IAFL,CAEU,OAFV,EAEmB,KAFnB,EAGK,IAHL,CAGU,QAHV,EAGoB,MAHpB;;;AAMA,QAAM,YAAY,YAAG,GAAH,CAAO,SAAP,EAAlB;AACA,YAAQ,MAAR,CAAe,MAAf,EACK,KADL,CACW,SADX,EAEK,IAFL,CAEU,MAFV,EAEkB,MAFlB,EAGK,IAHL,CAGU,QAHV,EAGoB,MAHpB,EAIK,IAJL,CAIU,gBAJV,EAI4B,IAJ5B,EAKK,IALL,CAKU,cALV,EAK0B,GAL1B,EAMK,IANL,CAMU,GANV,EAMe,IANf;;AAQA,QAAM,YAAY,OAAO,IAAP,CAAY,IAAZ,CAAlB;AACA,cAAU,OAAV,CAAkB,UAAS,QAAT,EAAmB;AACjC,eAAO,QAAP;AACH,KAFD;AAGH;;AAED,IAAM,SAAS;AACX,UAAM,gBAAW;;AAEb,gBAAQ,MAAR,CAAe,GAAf,EAAoB,IAApB,CAAyB,IAAzB,EAA+B,WAA/B,EAA4C,SAA5C,CAAsD,MAAtD,EACK,IADL,CACU,KAAK,IAAL,CAAU,QADpB,EAEK,KAFL,GAGK,MAHL,CAGY,MAHZ,EAIK,IAJL,CAIU,GAJV,EAIe,IAJf,EAKK,IALL,CAKU,MALV,EAKkB,UAAS,CAAT,EAAY;AACtB,gBAAI,CAAC,QAAD,EAAU,SAAV,EAAoB,gBAApB,EAAsC,OAAtC,EAA+C,SAA/C,EAA0D,OAA1D,EAAmE,OAAnE,CAA2E,EAAE,UAAF,CAAa,KAAxF,IAAiG,CAAC,CAAtG,EAA0G;AACtG,uBAAO,SAAP;AACH;AACD,mBAAO,MAAP;AACH,SAVL,EAWK,IAXL,CAWU,QAXV,EAWoB,MAXpB,EAYK,IAZL,CAYU,cAZV,EAY0B,CAZ1B,EAaK,IAbL,CAaU,gBAbV,EAa4B,CAb5B;AAcH;;;;;;;;;;;;;;AAjBU,CAAf;;AAkCA,IAAM,MAAM;AACR;AADQ,CAAZ;;kBAIe,G","file":"main.js","sourcesContent":["import d3 from 'd3';\r\n\r\nfunction draw () {\r\n    //erase previously drawn svg\r\n    d3.select(\"svg\").remove();\r\n    const width = 500, //style.viewport.width,\r\n        height = 300; //style.viewport.height;\r\n\r\n    //create svg element\r\n    const svg = d3.select(\"body\").append(\"svg\")\r\n        .attr(\"width\", width)\r\n        .attr(\"height\", height);\r\n\r\n    //clip container. #clip is a reference to a def that is added at the very last moment to the svg string\r\n    const svgRoot = svg.append(\"g\")\r\n        .attr('clip-path', 'url(#clip)');\r\n\r\n    const projection = d3.geo.conicConformal()\r\n        /*.scale(parseInt($('.js-scale').val()))\r\n        .translate([parseInt($('.js-center-x').val()), parseInt($('.js-center-y').val())])*/\r\n        .clipAngle(90);\r\n\r\n    projection.rotate([-2, -47, -3]);\r\n\r\n    /*\r\n    const path = d3.geo.path().pointRadius(function(d) {\r\n        return (d.properties && d.properties.opened) ?\r\n            style.assembly.radius :\r\n            style.assemblyConstruct.radius;\r\n    }).projection(projection);\r\n    */\r\n\r\n    const path2 = d3.geo.path().pointRadius(1).projection(projection);\r\n\r\n    //ocean\r\n    svgRoot.append(\"rect\")\r\n        .attr('fill', '#0b0')\r\n        .attr('width', width)\r\n        .attr('height', height);\r\n\r\n    //graticules\r\n    const graticule = d3.geo.graticule();\r\n    svgRoot.append(\"path\")\r\n        .datum(graticule)\r\n        .attr(\"fill\", \"none\")\r\n        .attr(\"stroke\", \"#000\")\r\n        .attr(\"stroke-opacity\", \".1\")\r\n        .attr(\"stroke-width\", \"1\")\r\n        .attr(\"d\", path);\r\n\r\n    const dataPaths = Object.keys(data);\r\n    dataPaths.forEach(function(dataPath) {\r\n        Layers[dataPath]();\r\n    });\r\n}\r\n\r\nconst Layers = {\r\n    land: function() {\r\n        //land\r\n        svgRoot.append(\"g\").attr(\"id\", \"countries\").selectAll(\"path\")\r\n            .data(data.land.features)\r\n            .enter()\r\n            .append(\"path\")\r\n            .attr(\"d\", path)\r\n            .attr(\"fill\", function(d) {\r\n                if (['France','Germany','United Kingdom', 'Spain', 'Belgium', 'Italy'].indexOf(d.properties.admin) > -1 ) {\r\n                    return '#F4783D';\r\n                }\r\n                return '#FFF';\r\n            } )\r\n            .attr(\"stroke\", '#FFF')\r\n            .attr(\"stroke-width\", 2)\r\n            .attr(\"stroke-opacity\", 1);\r\n    }\r\n\r\n    /*,\r\n\r\n    admin: function() {\r\n        //admin (IDF)\r\n        svgRoot.append(\"g\").attr(\"id\", \"idf\").selectAll(\"path\")\r\n            .data(data.admin.features, function(d) { return d.geometry.coordinates[0]; })\r\n            .enter()\r\n            .append(\"path\")\r\n            .attr(\"d\", path)\r\n            .attr(\"fill\", \"none\")\r\n            .attr(\"stroke\", style.region.outline)\r\n            .attr(\"stroke-width\", style.region.outlineWidth );\r\n    }*/\r\n};\r\n\r\nconst app = {\r\n    draw\r\n};\r\n\r\nexport default app;\r\n"]}